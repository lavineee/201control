<mujoco model="RobBIE_Sim_3D">
  <compiler angle="radian" autolimits="true"/>
  <default>
    <geom contype="0" conaffinity="0" condim="1" solref="0.005 1"/>
  </default>
<!--  <option timestep='0.0005' iterations="50" solver='PGS' gravity='0 0 -9.81'/>-->
  <option timestep='0.001' iterations="50" solver='PGS' gravity='0 0 -9.81' noslip_iterations="20"/>
  <visual>
    <quality shadowsize='4096'/>
<!--    <map znear='0.05'/>-->
    <global realtime="1" />
  </visual>

  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.4 0.6 0.8" width="128" height="128"/>
    <texture name="plane" type="2d" builtin="checker" rgb1="0.2 0.2 0.2" rgb2="0.3 0.3 0.3" width="500" height="500" />
    <material name="plane" reflectance="0.0" texture="plane" texrepeat="1 1" texuniform="true"/>

    <mesh name="base_link" file="base_link.STL"/>
    <mesh name="left_abad_link" file="left_abad_link.STL"/>
    <mesh name="left_leg_link" file="left_leg_link.STL"/>
    <mesh name="left_calf_link" file="left_calf_link.STL"/>
    <mesh name="right_abad_link" file="right_abad_link.STL"/>
    <mesh name="right_leg_link" file="right_leg_link.STL"/>
    <mesh name="right_calf_link" file="right_calf_link.STL"/>
  </asset>

  <worldbody>
    <light directional="false" cutoff="60" exponent="1" diffuse=".5 .5 .5" specular=".1 .1 .1" pos="0.5 0.1 0.8" dir="-0.5 -0.1 -0.8"/>
    <geom name="floor" pos="0  0  0" size="20 20 20" type="plane" material="plane" condim="3" conaffinity="15" friction=".7 .001 .001" contype="6"/>
    <body name="robbie" pos="0 0 0.45">
      <inertial pos="0. 0. 0." mass="2.21128889497571"  fullinertia="0.01538974171 0.01515015693 0.010629557622 0.0000014128 -0.00399385977 0.00000015788"/>
      <joint type="slide" axis="1 0 0" limited="false" range="-0.01 0.01"/>
      <joint type="slide" axis="0 1 0" limited="false" range="-0.01 0.01"/>
      <joint type="slide" axis="0 0 1" limited="false" range="-0.01 0.01"/>
      <joint name="thetaX" type="hinge" axis="1 0 0" limited="false" range="-0.01 0.01"/>
      <joint name="thetaY" type="hinge" axis="0 1 0" limited="false" range="-0.01 0.01"/>
      <joint name="thetaZ" type="hinge" axis="0 0 1" limited="true" range="-0.01 0.01"/>
      <geom type="mesh" rgba="1 1 1 1" mesh="base_link" contype="2" conaffinity="2" />
      <site name="imu_base" size="0.01" pos="0.0383611 0 0.1"/>
      <site name="imu_vel" size="0.01" pos="0.0383611 0.05 -0.0448642"/>
      <body name="left_abad_link" pos="0.0383611 0.05 -0.0448642" gravcomp="0">
        <inertial pos="0.00154082 0.000298409 -3.12981e-05" mass="0.692925" fullinertia="0.00034073449  0.00067046488 0.00051564627 0.00000177021 -0.0000004449 -0.0000003814"/>
        <joint name="left_abad_joint" pos="0 0 0" axis="1 0 0"/>
        <geom type="mesh" rgba="1 1 1 1" mesh="left_abad_link" contype="1" conaffinity="1" />
        <body name="left_leg_link" pos="0 0.07575 0" gravcomp="0">
          <inertial pos="2.88492e-05 -0.0188177 -0.025742" mass="0.863673" fullinertia="0.00219149847 0.00219443261 0.00049580602 0.00000058501 0.00000013792 0.00030899739"/>
          <joint name="left_hip_joint" pos="0 0 0" axis="0 1 0"/>
          <geom type="mesh" rgba="1 1 1 1" mesh="left_leg_link" contype="1" conaffinity="1"/>
          <body name="left_calf_link" pos="0 0 -0.2115" gravcomp="0">
            <inertial pos="5.44392e-05 -5.44606e-05 -0.129563" mass="0.132494" fullinertia="0.00104498863 0.00105069055 0.0000164077 0.00000000027 0.00000044869 -0.00000044869"/>
            <joint name="left_knee_joint" pos="0 0 0" axis="0 1 0"/>
            <geom type="mesh" rgba="1 1 1 1" mesh="left_calf_link" contype="6" conaffinity="1" />
            <site name="imu_left_foot" size="0.025" pos="0 0. -0.21" rgba="0.5 0 0 0.5"/>
          </body>
        </body>
      </body>
      <body name="right_abad_link" pos="0.0383611 -0.05 -0.0448642" gravcomp="0">
        <inertial pos="0.00154082 -0.000298409 3.12981e-05" mass="0.692925" fullinertia="0.00034073449 0.00067046488 0.00051564627 -0.00000177021 0.0000004449 -0.0000003814"/>
        <joint name="right_abad_joint" pos="0 0 0" axis="1 0 0"/>
        <geom type="mesh" rgba="1 1 1 1" mesh="right_abad_link" contype="1" conaffinity="1"/>
        <body name="right_leg_link" pos="0 -0.07575 0" gravcomp="0">
          <inertial pos="-2.88492e-05 0.0188177 -0.025742" mass="0.863673" fullinertia="0.00219149847 0.00219443261 0.00049580602 0.00000058501 -0.00000013792 -0.00030899739"/>
          <joint name="right_hip_joint" pos="0 0 0" axis="0 1 0"/>
          <geom type="mesh" rgba="1 1 1 1" mesh="right_leg_link" contype="1" conaffinity="1"/>
          <body name="right_calf_link" pos="0 0 -0.2115" gravcomp="0">
            <inertial pos="-5.44392e-05 5.44606e-05 -0.129563" mass="0.132494" fullinertia="0.00104498863 0.00105069055 0.0000164077 0.00000000027 -0.00000044869 0.00000044869"/>
            <joint name="right_knee_joint" pos="0 0 0" axis="0 1 0"/>
            <geom type="mesh" rgba="1 1 1 1" mesh="right_calf_link" contype="6" conaffinity="1"/>
            <site name="imu_right_foot" size="0.025" pos="0 0. -0.21" rgba="0.5 0 0 0.5"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <actuator>
    <motor name="left_ABAD_motor"  joint="left_abad_joint" ctrllimited="false" ctrlrange="-30 30"/>
    <motor name="left_hip_motor"  joint="left_hip_joint" ctrllimited="false" ctrlrange="-30 30"/>
    <motor name="left_knee_motor"  joint="left_knee_joint" ctrllimited="false" ctrlrange="-30 30"/>
    <motor name="right_ABAD_motor"  joint="right_abad_joint" ctrllimited="false" ctrlrange="-30 30"/>
    <motor name="right_hip_motor"  joint="right_hip_joint" ctrllimited="false" ctrlrange="-30 30"/>
    <motor name="right_knee_motor"  joint="right_knee_joint" ctrllimited="false" ctrlrange="-30 30"/>
  </actuator>
  <sensor>
    <framequat       name="base_imu_quat"     objtype="site"  objname="imu_base"/>
    <gyro    site="imu_base"/>

    <actuatorpos name="left_ABAD_pos"    actuator="left_ABAD_motor"/>
    <actuatorpos name="left_hip_pos"   actuator="left_hip_motor"/>
    <actuatorpos name="left_knee_pos"    actuator="left_knee_motor"/>
    <actuatorpos name="right_ABAD_pos"    actuator="right_ABAD_motor"/>
    <actuatorpos name="right_hip_pos"   actuator="right_hip_motor"/>
    <actuatorpos name="right_knee_pos"    actuator="right_knee_motor"/>


    <actuatorvel name="left_ABAD_vel"    actuator="left_ABAD_motor"/>
    <actuatorvel name="left_hip_vel"   actuator="left_hip_motor"/>
    <actuatorvel name="left_knee_vel"    actuator="left_knee_motor"/>
    <actuatorvel name="right_ABAD_vel"    actuator="right_ABAD_motor"/>
    <actuatorvel name="right_hip_vel"   actuator="right_hip_motor"/>
    <actuatorvel name="right_knee_vel"    actuator="right_knee_motor"/>

    <actuatorfrc name="left_ABAD_frc"    actuator="left_ABAD_motor"/>
    <actuatorfrc name="left_hip_frc"   actuator="left_hip_motor"/>
    <actuatorfrc name="left_knee_frc"    actuator="left_knee_motor"/>
    <actuatorfrc name="right_ABAD_frc"    actuator="right_ABAD_motor"/>
    <actuatorfrc name="right_hip_frc"   actuator="right_hip_motor"/>
    <actuatorfrc name="right_knee_frc"    actuator="right_knee_motor"/>

<!--    <velocimeter site="imu_vel" />-->
    <framelinvel objtype="site" objname="imu_vel" />
  </sensor>
</mujoco>